import type { Locale } from "./types";

export type { Locale };
export const messages: Record<Locale, Record<string, string>> = {
  zh: {
    "nav.download": "下载",
    "nav.manage": "管理",
    "nav.settings": "设置",
    "nav.about": "关于",
    "nav.share": "分享链接",
    "status.title": "状态与网络",
    "status.backend": "后端",
    "status.running": "运行中",
    "status.stopped": "已停止",
    "status.notifyWs": "通知 WebSocket",
    "status.enabled": "已启用",
    "status.disabled": "未启用",
    "status.deviceName": "设备名",
    "status.port": "端口",
    "status.network": "网络接口",
    "manage.devices": "设备列表",
    "manage.scan": "扫描",
    "manage.refresh": "刷新设备",
    "manage.noDevices": "暂无设备",
    "manage.files": "选择文件",
    "manage.chooseFiles": "选择文件",
    "manage.chooseFolder": "选择文件夹",
    "manage.filesSelected": "个文件已选",
    "manage.pasteFromClipboard": "粘贴",
    "manage.pasteHint": "在此区域粘贴可添加图片、文件或文字。",
    "manage.send": "发送",
    "manage.addText": "添加文本",
    "manage.addTextPlaceholder": "输入要发送的文本…",
    "manage.selectDeviceAndFiles": "请先选择设备和文件",
    "manage.loading": "正在检查…",
    "manage.unavailable": "管理界面不可用",
    "manage.unavailableHint": "请在本机打开此页面并确保已启用通知 WebSocket。",
    "favorites.quickSend": "快捷发送到收藏",
    "favorites.add": "添加收藏",
    "favorites.remove": "移除收藏",
    "favorites.aliasPlaceholder": "设备别名（可选）",
    "sendProgress.sending": "发送中",
    "sendProgress.cancel": "取消发送",
    "settings.saved": "已保存",
    "settings.saveButton": "保存设置",
    "settings.alias": "设备别名",
    "settings.downloadFolder": "下载目录",
    "settings.pin": "PIN",
    "settings.autoSave": "自动保存（接收时不需确认）",
    "settings.autoSaveFromFavorites": "仅收藏设备自动保存",
    "settings.useHttps": "使用 HTTPS",
    "settings.basicConfig": "基本设置",
    "settings.configYamlOnly": "以下配置将写入 config.yaml。",
    "settings.version": "协议版本",
    "settings.deviceModel": "设备型号",
    "settings.deviceType": "设备类型",
    "settings.fingerprint": "指纹",
    "settings.port": "端口",
    "settings.protocol": "协议",
    "settings.announce": "广播发现",
    "settings.certPem": "证书 (certPEM)",
    "settings.keyPem": "私钥 (keyPEM)",
    "settings.favoriteDevices": "收藏设备 (YAML)",
    "settings.autoSaveSection": "自动保存",
    "settings.networkConfig": "网络",
    "settings.networkInterface": "网络接口",
    "settings.networkInterfaceAll": "全部接口",
    "settings.scanTimeout": "扫描超时（秒）",
    "settings.scanTimeoutDesc": "0 表示不超时",
    "settings.securityConfig": "安全",
    "settings.skipNotify": "跳过通知模式",
    "settings.skipNotifyReadOnly": "仅由启动参数控制",
    "settings.advancedConfig": "高级",
    "settings.useDownload": "启用下载页（分享链接）",
    "settings.doNotMakeSessionFolder": "不创建会话子文件夹",
    "share.createSessionDesc": "创建分享会话后，将链接发给对方即可在下载页接收文件。",
    "share.requiresFilesNote": "当前服务端要求提供文件才能创建会话；在「管理」页选择文件后可创建分享链接。",
    "share.useSelectedFilesNote": "使用上方已选文件，点击下方创建会话。",
    "share.selectFilesFirst": "请先在上方选择文件。",
    "share.createSession": "创建会话",
    "share.downloadLink": "下载链接",
    "share.copy": "复制",
    "share.copied": "已复制",
    "share.optional": "可选",
    "share.autoAccept": "自动接受下载",
    "share.closeSession": "关闭会话",
    "share.activeSessions": "当前会话",
    "share.modalHint": "关闭此弹窗可返回，会话仍有效。",
    "confirmReceive.title": "确认接收",
    "confirmReceive.from": "来自",
    "confirmReceive.files": "个文件",
    "confirmReceive.accept": "接受",
    "confirmReceive.reject": "拒绝",
    "confirmDownload.title": "确认下载",
    "textReceived.copy": "复制",
    "textReceived.close": "关闭",
    "receiveProgress.receiving": "正在接收",
    "receiveProgress.filesCount": "{current} / {total} 个文件",
    "receiveHistory.title": "接收历史",
    "receiveHistory.clear": "清空",
    "receiveHistory.files": "个文件",
    "receiveHistory.delete": "删除",
    "session.title": "下载",
    "session.desc": "请输入发送方分享链接中的会话 ID，以查看并下载文件。",
    "session.placeholder": "会话 ID",
    "session.continue": "继续",
    "loading": "加载中...",
    "loading.waitingConfirmation": "等待对方授权…",
    "pin.title": "输入 PIN",
    "pin.placeholder": "PIN",
    "pin.continue": "继续",
    "error.title": "错误",
    "error.retry": "重试",
    "error.missingSession": "缺少会话 ID，请使用发送方提供的分享链接。",
    "error.pinRequired": "需要 PIN",
    "error.requestFailed": "请求失败",
    "error.authTimeout": "授权超时，请重试",
    "files.title": "下载文件",
    "files.from": "来自",
    "files.download": "下载",
    "files.viewDetail": "查看文件详情",
    "files.fromPath": "来自 {path}",
    "files.searchPlaceholder": "搜索文件名或路径",
    "files.close": "关闭",
    "pagination.prev": "上一页",
    "pagination.next": "下一页",
    "pagination.page": "第 {page} 页，共 {total} 页",
    "pagination.showing": "显示 {from}-{to}，共 {count} 个文件",
    "lang.zh": "中文",
    "lang.en": "English",
  },
  en: {
    "nav.download": "Download",
    "nav.manage": "Manage",
    "nav.settings": "Settings",
    "nav.about": "About",
    "nav.share": "Share link",
    "status.title": "Status & network",
    "status.backend": "Backend",
    "status.running": "Running",
    "status.stopped": "Stopped",
    "status.notifyWs": "Notify WebSocket",
    "status.enabled": "Enabled",
    "status.disabled": "Disabled",
    "status.deviceName": "Device name",
    "status.port": "Port",
    "status.network": "Network interfaces",
    "manage.devices": "Devices",
    "manage.scan": "Scan",
    "manage.refresh": "Refresh devices",
    "manage.noDevices": "No devices",
    "manage.files": "Select files",
    "manage.chooseFiles": "Choose files",
    "manage.chooseFolder": "Choose folder",
    "manage.filesSelected": "file(s) selected",
    "manage.pasteFromClipboard": "Paste",
    "manage.pasteHint": "Paste in this area to add images, files, or text.",
    "manage.send": "Send",
    "manage.addText": "Add text",
    "manage.addTextPlaceholder": "Enter text to send…",
    "manage.selectDeviceAndFiles": "Please select a device and files",
    "manage.loading": "Checking…",
    "manage.unavailable": "Manage interface unavailable",
    "manage.unavailableHint": "Open this page on this device and ensure notify WebSocket is enabled.",
    "favorites.quickSend": "Quick send to favorites",
    "favorites.add": "Add to favorites",
    "favorites.remove": "Remove from favorites",
    "favorites.aliasPlaceholder": "Device alias (optional)",
    "sendProgress.sending": "Sending",
    "sendProgress.cancel": "Cancel send",
    "settings.saved": "Saved",
    "settings.saveButton": "Save settings",
    "settings.alias": "Device alias",
    "settings.downloadFolder": "Download folder",
    "settings.pin": "PIN",
    "settings.autoSave": "Auto save (no confirm when receiving)",
    "settings.autoSaveFromFavorites": "Auto save from favorites only",
    "settings.useHttps": "Use HTTPS",
    "settings.basicConfig": "Basic",
    "settings.configYamlOnly": "The following options are saved to config.yaml.",
    "settings.version": "Protocol version",
    "settings.deviceModel": "Device model",
    "settings.deviceType": "Device type",
    "settings.fingerprint": "Fingerprint",
    "settings.port": "Port",
    "settings.protocol": "Protocol",
    "settings.announce": "Announce",
    "settings.certPem": "Certificate (certPEM)",
    "settings.keyPem": "Private key (keyPEM)",
    "settings.favoriteDevices": "Favorite devices (YAML)",
    "settings.autoSaveSection": "Auto save",
    "settings.networkConfig": "Network",
    "settings.networkInterface": "Network interface",
    "settings.networkInterfaceAll": "All interfaces",
    "settings.scanTimeout": "Scan timeout (seconds)",
    "settings.scanTimeoutDesc": "0 = no timeout",
    "settings.securityConfig": "Security",
    "settings.skipNotify": "Skip notify mode",
    "settings.skipNotifyReadOnly": "Controlled by startup flags only",
    "settings.advancedConfig": "Advanced",
    "settings.useDownload": "Enable download page (share link)",
    "settings.doNotMakeSessionFolder": "Do not create session subfolder",
    "share.createSessionDesc": "Create a share session and send the link to the receiver to download files on the download page.",
    "share.requiresFilesNote": "The server currently requires files to create a session; select files on Manage page to create a share link.",
    "share.useSelectedFilesNote": "Use files selected above, then click Create session below.",
    "share.selectFilesFirst": "Please select files above first.",
    "share.createSession": "Create session",
    "share.downloadLink": "Download link",
    "share.copy": "Copy",
    "share.copied": "Copied",
    "share.optional": "optional",
    "share.autoAccept": "Auto accept download",
    "share.closeSession": "Close session",
    "share.activeSessions": "Active sessions",
    "share.modalHint": "Close this dialog to return; the session remains active.",
    "confirmReceive.title": "Confirm receive",
    "confirmReceive.from": "From",
    "confirmReceive.files": "files",
    "confirmReceive.accept": "Accept",
    "confirmReceive.reject": "Reject",
    "confirmDownload.title": "Confirm download",
    "textReceived.copy": "Copy",
    "textReceived.close": "Close",
    "receiveProgress.receiving": "Receiving",
    "receiveProgress.filesCount": "{current} / {total} files",
    "receiveHistory.title": "Receive history",
    "receiveHistory.clear": "Clear",
    "receiveHistory.files": "files",
    "receiveHistory.delete": "Delete",
    "session.title": "Download",
    "session.desc": "Enter the session ID from the sender's share link to view and download files.",
    "session.placeholder": "Session ID",
    "session.continue": "Continue",
    "loading": "Loading...",
    "loading.waitingConfirmation": "Waiting for authorization…",
    "pin.title": "Enter PIN",
    "pin.placeholder": "PIN",
    "pin.continue": "Continue",
    "error.title": "Error",
    "error.retry": "Retry",
    "error.missingSession": "Missing session ID. Please use the share link provided by the sender.",
    "error.pinRequired": "PIN required",
    "error.requestFailed": "Request failed",
    "error.authTimeout": "Authorization timed out. Please try again.",
    "files.title": "Download Files",
    "files.from": "From",
    "files.download": "Download",
    "files.viewDetail": "View file details",
    "files.fromPath": "From {path}",
    "files.searchPlaceholder": "Search by file name or path",
    "files.close": "Close",
    "pagination.prev": "Previous",
    "pagination.next": "Next",
    "pagination.page": "Page {page} of {total}",
    "pagination.showing": "Showing {from}-{to} of {count} files",
    "lang.zh": "中文",
    "lang.en": "English",
  },
};

export function getLocaleFromHeader(acceptLanguage: string | null): Locale {
  if (!acceptLanguage) return "en";
  const first = acceptLanguage.split(",")[0]?.toLowerCase() ?? "";
  if (first.startsWith("zh")) return "zh";
  return "en";
}
